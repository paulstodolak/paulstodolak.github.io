var JACKNIFE=JACKNIFE||{};!function($){$(document).ready(function(){$(".carousel").each(function(){var Carousel=new JACKNIFE.Carousel($(this));Carousel.init(),$(this).data("Carousel",Carousel)})})}(jQuery);JACKNIFE=JACKNIFE||{};!function($){JACKNIFE.Carousel=function(el){var $el=$(el),$navigation=$(".carousel-nav",$el),$prev_btn=$(".carousel-prev",$navigation),$next_btn=$(".carousel-next",$navigation),$thumbs=$(".carousel-thumbs ul",$navigation),$thumb=$("li",$thumbs),index=0,limit=0;this.init=function(){$("[data-slide]",$navigation).on("click",_nav_click),$navigation.hasClass("carousel-thumb-nav")&&($prev_btn.on("click",_showPrevious),$next_btn.on("click",_showNext),$(window).on("resize",_resize),$(window).resize()),_nav_to(0)};var _nav_click=function(e){e.preventDefault();var target=$(this).data("slide");_nav_to(target)},_nav_to=function(target){$("[data-slide]",$el).removeClass("active");var $target=$('[data-slide="'+target+'"]',$el);($target.addClass("active"),$("video",$el).length)&&$("video",$el).each(function(){var $video=$(this).get(0);$video.paused||$video.pause()});if($("video",$target).length){var $video=$("video",$target).get(0);$video.paused&&$video.play()}},_showPrevious=function(e){e.preventDefault();var distance,carousel_width=$navigation.width();$thumbs.position().left,$thumbs.width();limit<=1||(-1===--index?index=limit-1:index<0&&(index=0),distance=carousel_width*index,$thumbs.css("left",-distance+"px"))},_showNext=function(e){e.preventDefault();var distance,carousel_width=$navigation.width();$thumbs.position().left,$thumbs.width();limit<=1||(++index===limit?index=0:limit-1<index&&(index=limit-1),distance=carousel_width*index,$thumbs.css("left",-distance+"px"))},_resize=function(e){var distance,target_width=$thumb.width()*$thumb.length,carousel_width=$navigation.width();$thumbs.width(),$el.width(),$thumb.length;limit=target_width/$navigation.width(),$thumbs.width(target_width),limit<=1||(-1===index||limit-1<index?index=limit-1:(index<0||index===limit)&&(index=0),distance=carousel_width*index,$thumbs.css("left",-distance+"px"))}}}(jQuery);